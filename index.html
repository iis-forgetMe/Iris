<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="OwO.png">
    <title>Iris</title>
    <style>
        /* ... все стили из твоего шаблона ... */
        /* Добавь, если хочешь подсветить бинарное заражение */
        .binary-infected {
            color: #38ffbb !important;
            background: none;
            transition: color 0.4s;
            font-family: 'Courier New', monospace !important;
            letter-spacing: 1.5px;
        }
    </style>
</head>
<body 
    oncopy="return false" 
    oncut="return false"
    onpaste="return false"
    oncontextmenu="return false">
    <!-- Кастомный контроллер громкости с процентом -->
    <div class="volume-controller">
        <div class="volume-icon" tabindex="0">
            <svg width="26" height="26" viewBox="0 0 24 24" fill="none"><path d="M4 9v6h4l5 5V4L8 9H4z" fill="#fff"/><path d="M16 7.82A6 6 0 0 1 16 16.18" stroke="#fff" stroke-width="2" fill="none"/></svg>
        </div>
        <input type="range" min="0" max="100" value="50" class="volume-slider">
        <span class="volume-percent" id="volume-percent">50%</span>
    </div>
    <!-- Видео на бекграунде с автозапуском -->
    <video loop playsinline id="video-bg" preload="auto">
        <source src="007n7.mp4" />
    </video>

    <header id="afk-banner">
        <h1 class="infected-target">Yo! It's Iris!</h1>
        <h2 class="infected-target">About me</h2>
        <p class="infected-target">Just a silly guy who likes furries. Also I can adapt literally to everything! Bisexual and yep, taken :3</p>
        <p class="infected-target">Name: Iris</p>
        <p class="infected-target">Age: 15</p>
        <p class="infected-target">What I do: Well.. I'm just playing computer games, studying at school and learning english</p>
        <p class="infected-target">Links: There's nothing now.. But in the future I will add something like discord, roblox profile and etc.</p>
    </header>
    <img src="zetsy-lemonss-kuiper.gif" alt="AFK GIF" class="afk-gif" id="afk-gif">

    <script>
        // ... ВСЕ ТВОИ СТАРЫЕ СКРИПТЫ ОСТАВЬ ...

        // Бин. инфицирование текста
        let binaryInterval = null;
        let infectedMatrix = [];
        let bannerOriginal = [];
        // Собираем текст с разметкой и сохраняем оригиналы
        function storeBannerOriginal() {
            bannerOriginal = [];
            document.querySelectorAll('#afk-banner .infected-target').forEach((el) => {
                bannerOriginal.push(el.textContent);
            });
        }
        storeBannerOriginal();

        function startBinaryInfection(diagonalDelay=150) {
            // Получаем все target элементы
            const targets = Array.from(document.querySelectorAll('#afk-banner .infected-target'));
            // Массивы по строкам (тегам)
            infectedMatrix = targets.map((el) => el.textContent.split(''));
            // Счётчик диагонали
            let diag = 0;

            binaryInterval = setInterval(() => {
                let didAny = false;
                // По диагоналям: элемент [строка i, символ diag-i]
                for (let row = 0; row < infectedMatrix.length; row++) {
                    let col = diag - row;
                    if (col >= 0 && col < infectedMatrix[row].length) {
                        infectedMatrix[row][col] = Math.random() > 0.5 ? '0' : '1';
                        didAny = true;
                    }
                }
                // Применить изменения
                targets.forEach((el, i) => {
                    el.textContent = infectedMatrix[i].join('');
                    el.classList.add('binary-infected');
                });
                diag++;
                // Останавливаться, когда всё заражено
                if (!didAny || diag > Math.max(...infectedMatrix.map(a => a.length))) {
                    clearInterval(binaryInterval);
                }
            }, diagonalDelay);
        }

        // Восстановить нормальный баннер
        function restoreBanner() {
            document.querySelectorAll('#afk-banner .infected-target').forEach((el, i) => {
                el.textContent = bannerOriginal[i];
                el.classList.remove('binary-infected');
            });
            clearInterval(binaryInterval);
        }

        // AFK-логика с инфицированием
        let afkTimer = null;
        let afkState = false;
        let binaryTimer = null; // <-- таймер для бинарного эффекта

        function isMobile() {
            return window.matchMedia("(max-width: 600px)").matches;
        }
        function setAfkTimer() {
            clearTimeout(afkTimer);
            clearTimeout(binaryTimer);

            removeAfk();
            restoreBanner(); // вернём текст

            afkTimer = setTimeout(showAfk, 8000);
            binaryTimer = setTimeout(()=>startBinaryInfection(120), 13000); // 13 сек — старт заражения
        }
        function showAfk() {
            afkState = true;
            if (isMobile()) {
                document.getElementById("afk-banner").classList.add('afk-hidden');
                document.getElementById("afk-gif").classList.remove('afk-active');
            } else {
                document.getElementById("afk-gif").classList.add('afk-active');
            }
        }
        function removeAfk() {
            afkState = false;
            document.getElementById("afk-gif").classList.remove('afk-active');
            document.getElementById("afk-banner").classList.remove('afk-hidden');
            restoreBanner();
        }
        window.addEventListener('mousemove', setAfkTimer);
        window.addEventListener('keydown', setAfkTimer);
        window.addEventListener('touchstart', setAfkTimer);
        window.addEventListener('mousedown', setAfkTimer);
        document.addEventListener('visibilitychange', function() {
            if (document.hidden) {
                if (afkTimer) {
                    setTimeout(() => {
                        if (afkTimer) {
                            showAfk();
                        }
                    }, 8000);
                    binaryTimer = setTimeout(()=>startBinaryInfection(120), 13000); // если свернули — тоже заражаем
                }
            } else {
                removeAfk();
                setAfkTimer();
            }
        });
        setAfkTimer();

        // ... остальной Volume, video code, Comic Sans и т.д. — оставить как было ...
    </script>
</body>
</html>
