<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="icon" type="image/png" href="OwO.png">
    <title>Iris</title>
    
    <!-- EMBED / OG / Twitter Card и остальные метатеги ... -->
    
    <style>
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
            overflow: hidden !important;
            position: fixed;
            width: 100vw;
            max-width: 100vw;
            touch-action: none;
        }
        @font-face {
            font-family: 'OMORI';
            src: url('OMORI_GAME2.ttf') format('truetype');
        }
        body {
            font-family: 'OMORI', Arial, sans-serif;
            background-color: #000;
            color: #F5F5F5;
            font-size: 20px !important;
            word-break: keep-all;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            user-select: none; -webkit-user-select: none; -ms-user-select: none;
        }
        body.comic-sans { font-family: "Comic Sans MS", "Comic Sans", cursive !important; font-size: 20px !important;}
        #video-bg { /* ... */ }
        .top-box { /* ... */ }
        .top-box-left { /* ... */ }
        .top-box-right { /* ... */ }
        .top-box-right .icon-link { /* ... */ }
        .top-box-right .icon-link:first-child { /* ... */ }
        .social-icon { /* ... */ }
        .icon-link:hover .social-icon { /* ... */ }
        .volume-controller { /* ... */ }
        .volume-icon { /* ... */ }
        .volume-slider, .volume-percent { /* ... */ }
        .volume-controller:hover, .volume-controller:focus-within { /* ... */ }
        .volume-controller:hover .volume-slider,
        .volume-controller:focus-within .volume-slider,
        .volume-controller:hover .volume-percent,
        .volume-controller:focus-within .volume-percent { /* ... */}
        .volume-slider { /* ... */ }
        .volume-percent { /* ... */ }
        header {
            text-align: center; padding: 60px 40px 36px 40px; background: rgba(0, 0, 0, 0.80); color: #F5F5F5;
            border-radius: 10px; border: 2px solid rgb(255, 8, 0); box-shadow: 0 0 36px 4px rgba(255,8,0,0.75);
            max-width: 800px; width: 100%; box-sizing: border-box; transition: opacity 1s; opacity: 1;
        }
        h1{font-size:38px!important;} h2{font-size:26px!important;} p{font-size:18px!important;} .subtitle{font-size:20px!important;}
        .afk-hidden {opacity:0;pointer-events:none;}
        .afk-gif {
            position:fixed;left:32px;bottom:32px;width:300px;max-width:24vw;max-height:24vh;height:auto;z-index:10;
            border-radius:16px;box-shadow:0 0 36px #8B000080;opacity:0;pointer-events:none;
            transition:opacity 1.1s,width 0.7s,max-width 0.7s,max-height 0.7s,left 0.7s,bottom 0.7s;
        }
        .afk-gif.afk-active{opacity:1;pointer-events:auto;}
        @media (max-width:900px) { /* ... */ }
        @media (max-width:600px) { /* ... */ }
        @media (max-width:800px) and (orientation: landscape) { /* ... */ }
        @media (max-width: 600px) and (orientation: portrait) {
            html, body {
                position: fixed !important;
                overflow: hidden !important;
                width: 100vw !important;
                max-width: 100vw !important;
            }
        }
        @media (max-width: 600px) and (orientation: landscape) {
            html, body {
                position: static !important;
                overflow: auto !important;
            }
        }
        header#afk-banner.afk-scaled {
            transform: scale(0.75);
            transition: transform 0.4s;
            transform-origin: top center;
        }
        #loading-overlay { /* ... */ }
        .loading-title{ /* ... */ }
        body.content-loaded #loading-overlay{ /* ... */ }
        body.content-loaded .loading-title{ /* ... */ }

        /* --- Для анимационных нулей и единиц --- */
        .binary-anim {
            position: fixed;
            pointer-events: none;
            font-family: 'Consolas', 'Courier New', monospace;
            font-size: 25px;
            color: rgb(255,20,20);
            opacity: 0.92;
            user-select: none;
            transition: opacity 0.9s, transform 0.9s cubic-bezier(.33,1.13,.83,-0.13);
            z-index: 9999;
            white-space: nowrap;
            text-shadow: 0 0 8px #f008, 0 0 18px #400a;
            will-change: opacity, transform;
        }
    </style>
</head>
<body 
    oncopy="return false" 
    oncut="return false"
    onpaste="return false"
    oncontextmenu="return false">
    <!-- Лоадер с прогрессом -->
    <div id="loading-overlay">
        <div class="loading-title">Loading: <span id="loading-percent">0%</span></div>
    </div>
    <!-- Верхний бокс -->
    <div class="top-box">
        <span class="top-box-left">Links</span>
        <span class="top-box-right">
            <a href="https://discord.com/users/1236359938721185902" target="_blank" class="icon-link" title="Discord">
            <img src="https://cdn-icons-png.flaticon.com/512/5968/5968756.png" alt="Discord" class="social-icon" />
        </a>
        <a href="https://t.me/iis_forgetMe" target="_blank" class="icon-link" title="Telegram">
            <img src="https://cdn-icons-png.flaticon.com/512/2111/2111646.png" alt="Telegram" class="social-icon" />
        </a>
        <a href="https://open.spotify.com/user/312jjwkfbshd5mjnzmyyc363k5ni" target="_blank" class="icon-link" title="Spotify">
            <img src="https://cdn-icons-png.flaticon.com/512/174/174872.png" alt="Spotify" class="social-icon" />
        </a>
        <a href="https://www.roblox.com/users/703442568/profile" target="_blank" class="icon-link" title="Roblox">
            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/6c/Roblox_Logo.svg/512px-Roblox_Logo.svg.png" alt="Roblox" class="social-icon" />
            </a>
        </span>
    </div>
    <!-- Контроллер громкости -->
    <div class="volume-controller">
        <div class="volume-icon" tabindex="0">
            <svg width="26" height="26" viewBox="0 0 24 24" fill="none">
                <path d="M4 9v6h4l5 5V4L8 9H4z" fill="#fff"/>
                <path d="M16 7.82A6 6 0 0 1 16 16.18" stroke="#fff" stroke-width="2" fill="none"/>
            </svg>
        </div>
        <input type="range" min="0" max="100" value="50" class="volume-slider">
        <span class="volume-percent" id="volume-percent">50%</span>
    </div>
    <!-- Видео на бекграунде с автозапуском -->
    <video loop playsinline id="video-bg" preload="auto">
        <source src="007n7.mp4" />
    </video>
    <header id="afk-banner">
        <h1>Yo! It's Iris!</h1>
        <h2>About me</h2>
        <p>Just a silly guy who likes furries. Also I can adapt literally to everything!
            Bisexual and yep, taken :3</p>
        <p>Name: Iris</p>
        <p>Age: 15</p>
        <p>What I do: Well.. I'm just playing computer games, studying at school and learning english</p>
    </header>
    <img src="zetsy-lemonss-kuiper.gif" alt="AFK GIF" class="afk-gif" id="afk-gif">

    <script>
        function checkRussianFont() {
            const bodyText = document.body.innerText || document.body.textContent;
            if (/[А-Яа-яЁё]/.test(bodyText)) {
                document.body.classList.add('comic-sans');
            } else {
                document.body.classList.remove('comic-sans');
            }
        }
        document.addEventListener('DOMContentLoaded', checkRussianFont);
        setInterval(checkRussianFont, 1500);

        // Блокировка выделения и копирования
        document.addEventListener('selectstart', e => e.preventDefault());
        document.addEventListener('copy', e => e.preventDefault());
        document.addEventListener('cut', e => e.preventDefault());
        document.addEventListener('contextmenu', e => e.preventDefault());

        // ---- AFK-логика ----
        let afkTimer = null;
        let afkState = false;
        let afkEnabled = false;

        function isMobile() {
            return window.matchMedia("(max-width: 600px)").matches;
        }
        function isMobileDevice() {
            return /Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile|Mobile/i.test(navigator.userAgent);
        }

        function setAfkTimer() {
            if (!afkEnabled) return;
            clearTimeout(afkTimer);
            removeAfk();
            afkTimer = setTimeout(showAfk, 8000);
        }

        // Эффект рассыпания баннера на нули и единицы
        function explodeBannerToBinary(direction = 'out') {
            const banner = document.getElementById('afk-banner');
            if (!banner) return;
            const rect = banner.getBoundingClientRect();

            function getTextNodesUnder(node){
                var all = [];
                for (node=node.firstChild; node; node=node.nextSibling){
                    if (node.nodeType==3) all.push(node);
                    else all = all.concat(getTextNodesUnder(node));
                }
                return all;
            }

            let nodes = getTextNodesUnder(banner);
            nodes.forEach(node => {
                const text = node.textContent;
                for(let i=0; i<text.length; i++){
                    let char = text[i];
                    if(!char.trim()) continue;
                    let span = document.createElement('span');
                    span.textContent = Math.random() > 0.5 ? '1' : '0';
                    span.className = 'binary-anim';
                    let range = document.createRange();
                    range.setStart(node, i);
                    range.setEnd(node, i+1);
                    try{
                        let rectC = range.getBoundingClientRect();
                        span.style.left = (rectC.left + window.scrollX) + 'px';
                        span.style.top = (rectC.top + window.scrollY) + 'px';
                    }catch(e){}
                    document.body.appendChild(span);
                    let dx = (Math.random()-0.5)*180;
                    let dy = (Math.random()-0.5)*140;
                    if (direction === 'in') { dx = 0; dy = 0; }
                    setTimeout(()=>{
                        span.textContent = Math.random() > 0.5 ? '1' : '0';
                        span.style.transform = direction === 'out'
                            ? `translate(${dx}px,${dy}px)`
                            : `translate(0,0)`;
                        span.style.opacity = direction === 'out' ? '0' : '1';
                    }, 20 + Math.random()*100);
                    let changeInt = setInterval(()=>{
                        span.textContent = Math.random() > 0.5 ? '1' : '0';
                    }, 60);
                    setTimeout(()=>{
                        clearInterval(changeInt);
                        span.remove();
                    }, direction === 'out' ? 1000 : 900);
                }
            });
        }

        // Изменения AFK для мобильных
        function showAfk() {
            if (!afkEnabled) return;
            afkState = true;
            if (isMobileDevice()) {
                explodeBannerToBinary('out');
                document.getElementById("afk-banner").classList.add('afk-hidden');
                document.getElementById("afk-gif").classList.remove('afk-active');
            } else {
                document.getElementById("afk-gif").classList.add('afk-active');
            }
        }
        function removeAfk() {
            if (!afkEnabled) return;
            afkState = false;
            if (isMobileDevice()) {
                explodeBannerToBinary('in');
                setTimeout(()=>{
                    document.getElementById("afk-banner").classList.remove('afk-hidden');
                }, 420);
            } else {
                document.getElementById("afk-gif").classList.remove('afk-active');
                document.getElementById("afk-banner").classList.remove('afk-hidden');
            }
        }
        function enableAfkFeature() {
            if (afkEnabled) return;
            afkEnabled = true;
            window.addEventListener('mousemove', setAfkTimer);
            window.addEventListener('keydown', setAfkTimer);
            window.addEventListener('touchstart', setAfkTimer);
            window.addEventListener('mousedown', setAfkTimer);
            document.addEventListener('visibilitychange', function() {
                if (!afkEnabled) return;
                if (document.hidden) {
                    if (afkTimer) {
                        setTimeout(() => {
                            if (afkTimer) {
                                showAfk();
                            }
                        }, 8000);
                    }
                } else {
                    removeAfk();
                    setAfkTimer();
                }
            });
            setAfkTimer();
        }

        // --- Контроллер громкости и запуск видео --- //
        const volumeSlider = document.querySelector('.volume-controller .volume-slider');
        const videoBg = document.getElementById('video-bg');
        const volumePercent = document.getElementById('volume-percent');

        function updateVolumePercent() {
            let show = Math.round(videoBg.muted ? 0 : videoBg.volume * 100);
            volumePercent.textContent = show + "%";
            if(videoBg.muted && volumeSlider.value != "0") volumeSlider.value = 0;
            if(!videoBg.muted && +volumeSlider.value == 0) volumeSlider.value = Math.round(videoBg.volume * 100);
        }
        videoBg.volume = 0.1;
        volumeSlider.value = 10
        updateVolumePercent();

        volumeSlider.addEventListener('input', function () {
            videoBg.volume = +this.value / 100;
            videoBg.muted = (+this.value === 0);
            updateVolumePercent();
        });

        document.querySelector('.volume-controller .volume-icon').addEventListener('click', function () {
            videoBg.muted = !videoBg.muted;
            updateVolumePercent();
        });

        videoBg.addEventListener('volumechange', updateVolumePercent);

        // ---- ЛОАДЕР: прогресс, click/tap по overlay ----
        const loadingOverlay = document.getElementById('loading-overlay');
        const loadingTitle = document.querySelector('.loading-title');
        const loadingPercent = document.getElementById('loading-percent');
        let videoLoaded = false;

        function updateLoadingProgress() {
            let percent = 0;
            if (videoBg.buffered.length) {
                percent = Math.round((videoBg.buffered.end(0) / Math.max(videoBg.duration, 1)) * 95);
            }
            loadingPercent.textContent = percent + '%';
        }

        videoBg.addEventListener('progress', updateLoadingProgress);
        videoBg.addEventListener('loadeddata', updateLoadingProgress);

        videoBg.addEventListener('canplaythrough', () => {
            videoLoaded = true;
            loadingTitle.textContent = 'Click to enter...';
            loadingOverlay.style.cursor = 'pointer';
        });

        loadingOverlay.addEventListener('mousedown', function(e) {
            if (!videoLoaded) return;
            if (e.button !== 0) return;
            document.body.classList.add('content-loaded');
            setTimeout(() => {
                loadingOverlay.style.display = 'none';
                tryPlayVideoWithSound();
                enableAfkFeature();
            }, 500);
        });

        loadingOverlay.addEventListener('touchend', function(e) {
            if (!videoLoaded) return;
            document.body.classList.add('content-loaded');
            setTimeout(() => {
                loadingOverlay.style.display = 'none';
                tryPlayVideoWithSound();
                enableAfkFeature();
            }, 500);
        });

        window.addEventListener('DOMContentLoaded', () => {
            loadingOverlay.style.display = '';
            document.body.classList.remove('content-loaded');
            loadingTitle.textContent = 'Loading: ';
            if (loadingPercent) {
                loadingTitle.appendChild(loadingPercent);
                loadingPercent.textContent = '0%';
            }
            updateLoadingProgress();
        });

        // Запуск видео только по overlay
        let videoTriedToPlay = false;
        function tryPlayVideoWithSound() {
            if (!videoTriedToPlay) {
                videoTriedToPlay = true;
                videoBg.play().catch(()=>{});
            }
        }

        // ---- scale and overlap баннера ----
        function checkBannerOverlap() {
            const banner = document.getElementById('afk-banner');
            const topBox = document.querySelector('.top-box');
            if (!banner || !topBox) return;
            const bannerRect = banner.getBoundingClientRect();
            const topBoxRect = topBox.getBoundingClientRect();
            if (bannerRect.bottom > topBoxRect.top) {
                banner.classList.add('afk-scaled');
            } else {
                banner.classList.remove('afk-scaled');
            }
        }
        window.addEventListener('resize', checkBannerOverlap);
        window.addEventListener('scroll', checkBannerOverlap);
        document.addEventListener('DOMContentLoaded', checkBannerOverlap);
        setInterval(checkBannerOverlap, 400);
    </script>

    <div style="position: fixed; right: 22px; bottom: 16px; z-index: 40; color: #f5f5f5; opacity: 0.38; font-size: 17px; font-family: inherit; pointer-events: none; background: none; text-shadow: 0 3px 16px #000a; white-space: nowrap; user-select: none;">
      This person inspired me: diram1x
    </div>
    <!-- BINARY FLYING TRAIL START -->
    <style>
    .binary-trail {
        position: fixed;
        pointer-events: none;
        font-family: 'Consolas', 'Courier New', monospace;
        font-size: 22px;
        color: rgb(255,20,20);
        opacity: 0.92;
        user-select: none;
        transition: opacity 0.7s, transform 1s cubic-bezier(.33,1.13,.83,-0.13);
        z-index: 9999;
        white-space: nowrap;
        text-shadow: 0 0 8px #f008, 0 0 18px #400a;
        will-change: opacity, transform;
    }
    </style>
    <script>
    document.addEventListener('mousemove', function(e) {
        createBinaryTrail(e.clientX, e.clientY);
    });
    function createBinaryTrail(x, y) {
        const span = document.createElement('span');
        span.className = 'binary-trail';
        span.textContent = randomBinary(1);
        span.style.left = (x - 4 + Math.random()*3) + 'px';
        span.style.top = (y - 8 + Math.random()*3) + 'px';
        span.style.transform = 'translate(0px,0px)';
        document.body.appendChild(span);
        let life = 0;
        const changeInterval = setInterval(() => {
            span.textContent = randomBinary(1);
            life += 1;
            if (life > 10) clearInterval(changeInterval);
        }, 50);
        setTimeout(() => {
            const dx = (Math.random()-0.5)*120;
            const dy = -40 - Math.random()*40;
            span.style.transform = `translate(${dx}px, ${dy}px)`;
            span.style.opacity = '0';
        }, 50);
        setTimeout(() => {
            if (span && span.parentNode)
                span.parentNode.removeChild(span);
        }, 900);
    }
    function randomBinary(len) {
        let str = '';
        for (let i = 0; i < len; ++i)
            str += Math.random() > 0.5 ? '1' : '0';
        return str;
    }
    </script>
    <!-- BINARY FLYING TRAIL END -->
</body>
</html>
